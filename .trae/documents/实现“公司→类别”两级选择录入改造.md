## 改动目标
- 录入弹窗改为两级选择：先选“分公司”，再选该公司的“费用类别”，类别随公司联动。
- 集团视图仅显示“全部/收入/支出”chips；选择分公司后再显示该公司类别chips。
- 未选择公司禁止提交并提示；列表与最近交易统一显示公司徽标。

## 数据层（assets/js/store.js）
- 新增公司类别配置：
  - company1：修车、零件、维保、空调、工资、其他
  - company2：改装、零件、维保、工资、其他
  - company3：空调、设备、维保、工资、其他
- 新增方法：`getCompanyCategories(companyId)` 返回该公司类别数组；（预留 `add/removeCompanyCategory`）
- 在 `addTransaction(companyId, tx)` 中增加校验：`companyId` 必填且 `tx.category` 属于 `getCompanyCategories(companyId)`；失败返回错误消息供 UI 提示。

## 仪表板（index.html）
- 在录入弹窗位置（参考 `index.html:481`“类别”标签处）添加“公司”下拉 `#modalCompanySelect`：
  - 选项来源 `Store.getCompanies()`；默认跟随顶部公司选择，若是“全部分公司”则为空必须选择。
- “类别”下拉 `#modalCategorySelect` 改为动态：
  - 根据 `#modalCompanySelect` 当前值调用 `Store.getCompanyCategories(companyId)` 生成；切换公司时重置为第一个类别。
- 提交逻辑：
  - 若未选公司→`showNotification('请先选择分公司', 'error')`
  - 校验类别合法；使用所选 `companyId` 调用 `Store.addTransaction`；成功后刷新仪表与最近交易。
- chips联动：顶部公司=all 时仅显示“全部/收入/支出”，选定具体公司后再显示该公司类别chips（修车/改装/空调/零件/维保/工资/其他）。

## 交易页（transactions.html）
- 顶部：保留“集团 + 公司（含全部分公司）”；公司=all 时仅显示“全部/收入/支出”。
- 弹窗两级选择：在 `#addTransactionForm` 中添加公司下拉 `#transactionCompanySelect`；类别下拉随公司联动；编辑时预填公司与类别。
- 提交：公司=all 时若未选择公司则提示并阻止提交；保存时使用所选公司；编辑按记录的 `companyId` 更新对应公司数据。
- 列表：在描述下显示公司徽标（已接入），过滤支持公司+类别组合。

## 验证步骤
1. 控制台运行 `localStorage.removeItem('okc_finance')` 并 `Ctrl+F5` 硬刷新。
2. 在集团视图打开弹窗，未选公司尝试提交，提示“请先选择分公司”。
3. 选择公司后类别联动，提交成功；在仪表板与交易页看到新记录并带公司名。
4. 在单公司视图，chips显示该公司类别；新增/编辑后指标联动更新。

## 交付
- 更新 `store.js`、`index.html`、`transactions.html` 的弹窗与chips逻辑；统一校验与错误提示；提供测试说明与截图验证。

确认后我将开始修改并提交。